
all:	gen

gen:
	modulo --language=c    <modules/Atomic.module    		>include/doremir/atomic.h; \
	modulo --language=c    <modules/Atomic/Queue.module       	>include/doremir/atomic/queue.h; \
	modulo --language=c    <modules/Atomic/Stack.module       	>include/doremir/atomic/stack.h; \
	modulo --language=c    <modules/Atomic/RingBuffer.module  	>include/doremir/atomic/ring_buffer.h; \
	modulo --language=c    <modules/Thread.module    		>include/doremir/thread.h;
	modulo --language=c    <modules/Thread/Future.module    	>include/doremir/thread/future.h;
	modulo --language=c    <modules/Thread/Improving.module    	>include/doremir/thread/improving.h;
                                                                                          
	modulo --language=c    <modules/Ratio.module    		>include/doremir/ratio.h;
	modulo --language=c    <modules/Chase.module    		>include/doremir/chase.h;
	modulo --language=c    <modules/List.module    			>include/doremir/list.h; 
	modulo --language=c    <modules/Set.module    			>include/doremir/set.h;  
	modulo --language=c    <modules/Pair.module    			>include/doremir/pair.h; 
	modulo --language=c    <modules/Map.module    			>include/doremir/map.h;  
	modulo --language=c    <modules/PriorityQueue.module		>include/doremir/priority_queue.h;  
                                                                                          
	modulo --language=c    <modules/Midi.module    			>include/doremir/midi.h;
	modulo --language=c    <modules/Audio.module    		>include/doremir/audio.h;

	modulo --language=c    <modules/Audio/Time.module    		>include/doremir/audio/time.h;
                                                                                         
	modulo --language=c    <modules/Audio/Processor.module  	>include/doremir/audio/processor.h;
	modulo --language=c    <modules/Audio/Processor/Unary.module  	>include/doremir/audio/processor/unary.h;
	modulo --language=c    <modules/Audio/Processor/Binary.module  	>include/doremir/audio/processor/binary.h;
	modulo --language=c    <modules/Audio/Processor/Ternary.module  >include/doremir/audio/processor/ternary.h;
	modulo --language=c    <modules/Audio/Processor/Delay.module  	>include/doremir/audio/processor/split.h;
	modulo --language=c    <modules/Audio/Processor/Split.module  	>include/doremir/audio/processor/delay.h;
	modulo --language=c    <modules/Audio/Processor/Sequence.module >include/doremir/audio/processor/sequence.h;
	modulo --language=c    <modules/Audio/Processor/Parallel.module >include/doremir/audio/processor/parallel.h;
	modulo --language=c    <modules/Audio/Processor/Loop.module	>include/doremir/audio/processor/loop.h;
                                                                                                   
	modulo --language=c    <modules/Audio/Device.module    		>include/doremir/audio/device.h;
	modulo --language=c    <modules/Audio/Device/Buffer.module	>include/doremir/audio/device/buffer.h;
	modulo --language=c    <modules/Audio/Device/File.module    	>include/doremir/audio/device/file.h;
	modulo --language=c    <modules/Audio/Device/Audio.module    	>include/doremir/audio/device/audio.h;
	modulo --language=c    <modules/Audio/Device/Midi.module    	>include/doremir/audio/device/midi.h;
                                                                                                
	modulo --language=c    <modules/Audio/Scheduler.module  	>include/doremir/audio/scheduler.h;
	modulo --language=c    <modules/Audio/Dispatcher.module 	>include/doremir/audio/dispatcher.h;





	modulo --language=lisp <modules/Atomic.module    		>bindings/lisp/doremir/atomic.lisp; \
	modulo --language=lisp <modules/Atomic/Queue.module       	>bindings/lisp/doremir/atomic/queue.lisp; \
	modulo --language=lisp <modules/Atomic/Stack.module       	>bindings/lisp/doremir/atomic/stack.lisp; \
	modulo --language=lisp <modules/Atomic/RingBuffer.module  	>bindings/lisp/doremir/atomic/ring_buffer.lisp; \
	modulo --language=lisp <modules/Thread.module    		>bindings/lisp/doremir/thread.lisp;
	modulo --language=lisp <modules/Thread/Future.module    	>bindings/lisp/doremir/thread/future.lisp;
	modulo --language=lisp <modules/Thread/Improving.module    	>bindings/lisp/doremir/thread/improving.lisp;
                                                                                          
	modulo --language=lisp <modules/Ratio.module    		>bindings/lisp/doremir/ratio.lisp;
	modulo --language=lisp <modules/Chase.module    		>bindings/lisp/doremir/chase.lisp;
	modulo --language=lisp <modules/List.module    			>bindings/lisp/doremir/list.lisp; 
	modulo --language=lisp <modules/Set.module    			>bindings/lisp/doremir/set.lisp;  
	modulo --language=lisp <modules/Pair.module    			>bindings/lisp/doremir/pair.lisp; 
	modulo --language=lisp <modules/Map.module    			>bindings/lisp/doremir/map.lisp;  
	modulo --language=lisp <modules/PriorityQueue.module		>bindings/lisp/doremir/priority_queue.lisp;  
                                                                                          
	modulo --language=lisp <modules/Midi.module    			>bindings/lisp/doremir/midi.lisp;
	modulo --language=lisp <modules/Audio.module    		>bindings/lisp/doremir/audio.lisp;

	modulo --language=lisp <modules/Audio/Time.module    		>bindings/lisp/doremir/audio/time.lisp;
                                                                                         
	modulo --language=lisp <modules/Audio/Processor.module  	>bindings/lisp/doremir/audio/processor.lisp;
	modulo --language=lisp <modules/Audio/Processor/Unary.module  	>bindings/lisp/doremir/audio/processor/unary.lisp;
	modulo --language=lisp <modules/Audio/Processor/Binary.module  	>bindings/lisp/doremir/audio/processor/binary.lisp;
	modulo --language=lisp <modules/Audio/Processor/Ternary.module  >bindings/lisp/doremir/audio/processor/ternary.lisp;
	modulo --language=lisp <modules/Audio/Processor/Delay.module  	>bindings/lisp/doremir/audio/processor/split.lisp;
	modulo --language=lisp <modules/Audio/Processor/Split.module  	>bindings/lisp/doremir/audio/processor/delay.lisp;
	modulo --language=lisp <modules/Audio/Processor/Sequence.module >bindings/lisp/doremir/audio/processor/sequence.lisp;
	modulo --language=lisp <modules/Audio/Processor/Parallel.module >bindings/lisp/doremir/audio/processor/parallel.lisp;
	modulo --language=lisp <modules/Audio/Processor/Loop.module	>bindings/lisp/doremir/audio/processor/loop.lisp;
                                                                                                   
	modulo --language=lisp <modules/Audio/Device.module    		>bindings/lisp/doremir/audio/device.lisp;
	modulo --language=lisp <modules/Audio/Device/Buffer.module	>bindings/lisp/doremir/audio/device/buffer.lisp;
	modulo --language=lisp <modules/Audio/Device/File.module    	>bindings/lisp/doremir/audio/device/file.lisp;
	modulo --language=lisp <modules/Audio/Device/Audio.module    	>bindings/lisp/doremir/audio/device/audio.lisp;
	modulo --language=lisp <modules/Audio/Device/Midi.module    	>bindings/lisp/doremir/audio/device/midi.lisp;
                                                                                                
	modulo --language=lisp <modules/Audio/Scheduler.module  	>bindings/lisp/doremir/audio/scheduler.lisp;
	modulo --language=lisp <modules/Audio/Dispatcher.module 	>bindings/lisp/doremir/audio/dispatcher.lisp;
                                                                                         


doc:    gen
	doxygen doc/Doxyfile

clean:
	rm include/*.h; \
	rm bindings/lsp/*.lisp;