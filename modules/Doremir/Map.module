
/** 
    @addtogroup DoremirMap
    
    Immutable ordered map data structure.

    @par Requires 
        doremir_order_t
    @par Implements 
        doremir_equal_t
        doremir_copy_t
        doremir_destroy_t
        doremir_dynamic_t
        doremir_string_show_t
    @see 
        \ref Collections
    
 */
module Doremir.Map 
{
    import Doremir;
    import Doremir.Std;
    import Doremir.Pair;
    
    type Map = opaque;
    type Key = Ptr;

    empty            : () -> Map;
    add              : (Ptr, Map) -> Map;
    remove           : (Ptr, Map) -> Void;
    copy             : Map -> Map;
    destroy          : Map -> Void;

    // fromPair         : Pair -> Map;
    // fromList         : Pair -> Map;

    hasKey           : (Map, Key) -> Bool;
    hasElem          : (Map, Ptr) -> Bool;
    hasEntry         : (Map, Pair) -> Bool;
    size             : Map -> Int;

    isEmpty          : Map -> Bool;
    isSingle         : Map -> Bool;
    isSubmapOf       : (Map, Map) -> Bool;
    isProperSubmapOf : (Map, Map) -> Bool;
}