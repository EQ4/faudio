
/**
    @addtogroup DoremirDeviceAudio

    Real-time audio device.

 */
module Doremir.Device.Audio
{
    import Doremir.List;
    import Doremir.Pair;
    import Doremir.Processor;

    type DeviceAudio = opaque;

    type Session = opaque;
    type Stream = opaque;

    name : DeviceAudio -> String;
    hostName : DeviceAudio -> String;
    channels : DeviceAudio -> Pair;

    all : Session -> List;
    default : Session -> Pair;

    beginSession : () -> Session;
    endSession : Session -> Void;

    startStream : (DeviceAudio, Processor, DeviceAudio) -> Stream;
    stopStream : Stream -> Void;

    type SessionCallback = (Session -> Session)*;
    withSession : (SessionCallback) -> Void;

    type StreamCallback = (Stream -> Stream)*;
    withStream : (DeviceAudio, Processor, DeviceAudio, StreamCallback) -> Void;
}