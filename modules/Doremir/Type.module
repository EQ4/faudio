
/**
    @addtogroup DoremirType
    
    Provides signal types.

    Type            | Description
    ----------------| ----------------------------
    `uint8`         | 8-bit integer
    `uint16`        | 16-bit integer
    `uint32`        | 32-bit integer
    `uint64`        | 64-bit integer
    `float`         | 32-bit floating point
    `double`        | 64-bit floating point
    `ptr`           | Pointer supporting copy and destroy
    `(A, B)`        | pair of *A* and *B*
    `[A x N]`       | vector of *A*
    `{A}`           | frame of *A*

    @par Literals
    - `type(uint8)`
    - `type(uint16)`
    - `type(uint32)`
    - `type(uint64)`
    - `type(float)`
    - `type(double)`
    - `type(ptr)`
    - `type_pair(type(double), type(double))`
    - `type_vector(type(double), 200)`
    - `type_frame(type(double))`

    @par Implements        
    - doremir_equal_t
    - doremir_copy_t
    - doremir_string_show_t
    - doremir_destroy_t
    
 */                                             
 
/*  
    TODO
    
    
 */
module Doremir.Type
{
    import Doremir;
    import Doremir.Pair;

    type Frames = Size;
    type Simple = enum { 
        I8Type, 
        I16Type, 
        I32Type, 
        I64Type,
        F32Type,
        F64Type,
        PtrType 
    };

    type Type = opaque;
    
    simple : Simple -> Type;    
    pair : (Type, Type) -> Type;
    vector : (Type, Size) -> Type;
    frame : Type -> Type;
    copy : Type -> Type;
    destroy : Type -> Void;

    isSimple : Type -> Bool;
    isPair : Type -> Bool;
    isVector : Type -> Bool;
    isFrame : Type -> Bool;

    getSimple       : Type -> Simple;
    getPairFst      : Type -> Type;
    getPairSnd      : Type -> Type;
    getVectorBase   : Type -> Pair;
    getVectorSize   : Type -> Pair;
    getFrameBase    : Type -> Type;
 
    sizeOf   : (Frames, Type) -> Size;
    offsetOf : (Frames, Type) -> Size;
    alignOf  : Type -> Size;
}