
/**
    @addtogroup DoremirError
    
    Error handling types and functions.
 */                                             
 
 module Doremir.Error
{
    import Doremir;
    import Doremir.String;

    type Severity = enum {
        Info, Warning, Error, Misc
    };

    /** @interface doremir_error_interface_t
        Error interface.
    */
    type Interface  = struct {
        severity : (Ptr -> Severity)*,
        message : (Ptr -> String)*,
        origin : (Ptr -> String)*
    };    
    type Error = opaque;
    type Callback = ((Ptr,Error) -> Void)*;
    
    createSimple : (Severity, String, String) -> Error;

    severity  : Error -> Severity;
    message   : Error -> String;
    origin    : Error -> String;
    log       : (Ptr,Error) -> Void;
    format    : (Bool,Error) -> String;

    check : Ptr -> Bool;
}