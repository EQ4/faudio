
/** 
    @addtogroup DoremirList
    
    Immutable list data structure.

    @par Implements 
        doremir_equal_t
        doremir_order_t
        doremir_copy_t
        doremir_destroy_t
        doremir_dynamic_t
        doremir_string_show_t
    @see 
        \ref Collections
    
 */
module Doremir.List
{
    import Doremir;
    import Doremir.String;

    type List   = opaque;
            
    // Constructors
    empty       : () -> List;
    single      : Ptr -> List;
    cons        : (Ptr, List) -> List;
    append      : (List, List) -> List;
    dappend     : (List, List) -> List;
    copy        : List -> List;
    destroy     : List -> Void;

    // Predicates
    isEmpty     : List -> Bool;
    isSingle    : List -> Bool;
    length      : List -> Int;

    // Sequential access
    head        : List -> Ptr;
    tail        : List -> List;
    dtail       : List -> List;
    init        : List -> List;
    dinit       : List -> List;
    last        : List -> Ptr;
    
    // Random access
    take         : (Int, List) -> List;
    dtake        : (Int, List) -> List;
    drop         : (Int, List) -> List;
    ddrop        : (Int, List) -> List;
    range        : (Int, Int, List) -> List;
    index        : (Int, List) -> Ptr;
    insert       : (Int, Ptr, List) -> List;
    remove       : (Int, List) -> List;
    removeRange  : (Int, Int, List) -> List;
    dremove      : (Int, List) -> List;
    dremoveRange : (Int, Int, List) -> List;
    
    // Searching
    has         : (Ptr, List) -> Bool;
    find        : (Pred, List) -> Ptr;
    findIndex   : (Pred, List) -> Int;
    
    // Maps and folds
    map         : (Unary, List) -> List;
    dmap        : (Unary, List) -> List;
    concatMap   : (Unary, List) -> List;
    dconcatMap  : (Unary, List) -> List;
    filter      : (Pred, List) -> List;
    dfilter     : (Pred, List) -> List;
    foldLeft    : (Binary, Ptr, List) -> Ptr;
    dfoldLeft   : (Binary, Ptr, List) -> Ptr;
    concat      : List -> List;
    
    // Misc operations
    sort        : List -> List;
    dsort       : List -> List;
    reverse     : List -> List;
    dreverse    : List -> List;
}
