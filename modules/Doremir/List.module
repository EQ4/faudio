
/** 
    @addtogroup DoremirList
    
    Immutable list data structure.
 */
module Doremir.List
{
    import Doremir.Std;

    type List   = opaque;
    type Value  = Intptr;
    // type MaybeValue = Value;
    // type MaybeList = Value;
            
    empty       : () -> List;
    cons        : (Value, List) -> List;
    snoc        : (Value, List) -> List;
    destroy     : List -> Void;
    copy        : List -> List;
    swap        : (List, List) -> Void;

    isEmpty     : List -> Bool;
    lenght      : List -> Int;
    // head        : List -> MaybeValue;
    // tail        : List -> MaybeList;
    // init        : List -> MaybeList;
    // last        : List -> MaybeValue;

    take        : (Int, List) -> List;
    drop        : (Int, List) -> List;
    isElem      : (Value, List) -> Bool;
    
    reverse     : List -> List;
    sort        : List -> List;
    // concat      : List -> List;
    // concatSep   : List -> List;

    type Pred   = (Value -> Bool)*;

    // find        : (Pred, List) -> MaybeValue;
    filter      : (Pred, List) -> List;
    // any         : (Pred, List) -> Bool;
    // all         : (Pred, List) -> Bool;

    type Unary  = (Value -> Value)*;
    type Binary = ((Value, Value) -> Value)*;

    map         : (List, Unary)         -> List;
    foldl       : (List, Binary, Value) -> List;
    

    type Num = struct {
        add : ((Value, Value) -> Value)*,
        sub : ((Value, Value) -> Value)*,
        mul : ((Value, Value) -> Value)*,
        div : ((Value, Value) -> Value)*,
        mod : ((Value, Value) -> Value)*,
        abs : ((Value, Value) -> Value)*
    };
    // sum         : (Num, List) -> Value;
    // product     : (Num, List) -> Value;
    // maximum     : List -> Value;
    // minimum     : List -> Value;
                                
    // consDestroy    : (Value, List) -> List;
    // snocDestroy    : (Value, List) -> List;    
    // reverseDestroy : List -> List;
    // sortDestroy    : List -> List;
    // mapDestroy     : (List, Unary) -> List;
    
}