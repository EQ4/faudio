
/** 
    @addtogroup DoremirString
    
    String operations.

 */
module Doremir.String
{
    import Doremir;

    type String = opaque;
    type FilePath = String;
    
    empty   : () -> String;
    single  : UInt16 -> String;
    copy    : String -> String;
    append  : (String,String) -> String;
    dappend : (String,String) -> String;
    destroy : String -> Void;

    length : String -> Int;
    charAt : (Int,String) -> UInt16;

    /** @interface doremir_string_show_t 
        Printable objects.
    */
    type Show  = struct {
        show : (Ptr -> String)*
    };


    // Misc conversion
    /**
        @typedef doremir_string_utf8_t
        String represented in the UTF-8 encoding, terminated by a null character.
     */
    type Utf8  = Char*;

    /**
        @typedef doremir_string_utf16_t
        String represented in the UTF-16 encoding using the endianness of the system, terminated by a null character (two zero bytes).
     */
    type Utf16 = UInt16*;

    /**
        @typedef doremir_string_utf32_t
        String represented in the UTF-16 encoding using the endianness of the system, terminated by a null character (four zero bytes).
     */
    type Utf32 = UInt32*;

    toUtf8  : String -> Utf8;
    toUtf16 : String -> Utf16;
    toUtf32 : String -> Utf32;
    fromUtf8  : Utf8 -> String;
    fromUtf16 : Utf16 -> String;
    fromUtf32 : Utf32 -> String;

}