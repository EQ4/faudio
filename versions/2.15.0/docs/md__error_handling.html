<!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>faudio v2.15.0: Error handling</title>
<!-- <link href="tabs.css" rel="stylesheet" type="text/css"/> -->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="styles.css" rel="stylesheet" type="text/css" />
<!-- <link href="doxygen.css" rel="stylesheet" type="text/css" /> -->
<!--  -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">faudio v2.15.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__error_handling.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Error handling </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#id441">Handling errors</a><ul><li class="level2"><a href="#id1152">Optional values</a></li>
<li class="level2"><a href="#id24834">Error values</a></li>
</ul>
</li>
<li class="level1"><a href="#id24103">Logging</a><ul><li class="level2"><a href="#id30965">Setting up the log handler</a></li>
<li class="level2"><a href="#id10103">Adding log entries</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="Errors"></a></p>
<p>Generally, errors can be grouped into <em>recoverable</em> and <em>non-recoverable</em> errors.</p>
<p>Non-recoverable errors are those that occur outside the control of the <em>faudio</em>. They will usually terminate the process. Recoverable errors are those that occur outside the control of the user, but in control of <em>faudio</em>. In most systems, such errors can be <em>handled</em> by the user by some mechanism in the API such as exceptions.</p>
<h1><a class="anchor" id="id441"></a>
Handling errors</h1>
<p>In <em>faudio</em>, recoverable errors always occur when a function is called, and must be detected by the user by inspecting the return value of the function. They are grouped into <em>optional</em> values and <em>error</em> values.</p>
<h2><a class="anchor" id="id1152"></a>
Optional values</h2>
<p><em>Optional values</em> simply means that a function returns null instead of an ordinary value. They are used for simple cases where no additional information about the condition is needed. Examples of functions returning optional values are ref fa_list_index and <a class="el" href="group___fa_priority_queue.html#ga07dad7064b633feff9b9f8543173dcc0">fa_priority_queue_peek</a>.</p>
<h2><a class="anchor" id="id24834"></a>
Error values</h2>
<p><em>Error values</em> are used in cases where the system has access to information about the error. Error values depend on the interface mechanism: any value can be passed to <a class="el" href="group___fa.html#gaec61e23c174faf5e5244ae876d264eb5">fa_check</a>, which returns true if and only if the value is an error.</p>
<p>Functions returning errors must have their return value passed to <a class="el" href="group___fa.html#gaec61e23c174faf5e5244ae876d264eb5">fa_check</a> before the value is used by another function. If an error has occurred, check will return true and the other methods of the <a class="el" href="group___fa_error.html#ga4a4feb4d3686657ac8dbd2be421cbb15">fa_error_t</a> interface can be used to obtain more information about the condition, otherwise the value can be used normally. Note that values returned from construction and copy functions must be destroyed whether an error has occured or not.</p>
<h1><a class="anchor" id="id24103"></a>
Logging</h1>
<p><em>faudio</em> provides a simple logging system.</p>
<h2><a class="anchor" id="id30965"></a>
Setting up the log handler</h2>
<p>By default, <em>faudio</em> discards all incoming log messages. To set a different behaviour, use one of the setup functions in Fa.Fa. Typically you want to set the log handler to write to a file, or pass them to a custom handler function.</p>
<h2><a class="anchor" id="id10103"></a>
Adding log entries</h2>
<p>Non-recoverable errors are always logged. The user can add recoverable errors to the log using fa_fa_log. Typically, this function is used with <a class="el" href="group___fa.html#gaec61e23c174faf5e5244ae876d264eb5">fa_check</a>, as in:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group___fa.html#gaec61e23c174faf5e5244ae876d264eb5" title="Return whether the given value is an error or not.">fa_check</a>(value)) {</div>
<div class="line">    <a class="code" href="group___fa_error.html#ga466e0539bedb29f68527448ed9ba11bf" title="Write a log message.">fa_error_log</a>(NULL, value);</div>
<div class="line">    exit(-1);</div>
<div class="line">}</div>
</div><!-- fragment --><p>There are also some convenience functions to log an arbitrary entry, for example:</p>
<div class="fragment"><div class="line">fa_fa_log_info(<span class="stringliteral">&quot;Are you aware of this?&quot;</span>);</div>
<div class="line">fa_fa_log_error(<span class="stringliteral">&quot;That is an error!&quot;</span>);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jul 24 2014 15:42:25 for faudio v2.15.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3 </li>
  </ul>
</div>
</body>
</html>
